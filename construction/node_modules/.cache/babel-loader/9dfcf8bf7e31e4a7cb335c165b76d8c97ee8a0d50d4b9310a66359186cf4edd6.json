{"ast":null,"code":"import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Logout() {\n  fetch(\"http://127.0.0.1:8000/api/logout/\", {\n    method: 'post',\n    headers: new Headers({\n      'Authorization': 'Bearer Token',\n      'token': localStorage.getItem('token')\n    })\n  }).then(response => {\n    if (response.status === 200) {\n      response.json().then(result => {\n        localStorage.setItem(\"token\", result.token);\n        localStorage.setItem(\"update_token\", result.update_token);\n      });\n      navigate(\"/\");\n    } else {\n      setErrorMsg(\"Something went wrong during logout!\");\n    }\n  });\n}\n_c = Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["React","useState","useNavigate","Logout","fetch","method","headers","Headers","localStorage","getItem","then","response","status","json","result","setItem","token","update_token","navigate","setErrorMsg","_c","$RefreshReg$"],"sources":["/Users/jackchen/Downloads/GitHub/construction-frontend/construction/src/views/LogoutView.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Logout(){\n    fetch(\"http://127.0.0.1:8000/api/logout/\",{ \n        method: 'post', \n        headers: new Headers({\n            'Authorization': 'Bearer Token', \n            'token': localStorage.getItem('token'),\n        })\n    }).then((response) => {\n        if (response.status === 200){\n          response.json().then(\n              (result) => {\n                  localStorage.setItem(\"token\",result.token)\n                  localStorage.setItem(\"update_token\",result.update_token)\n              });\n          navigate(\"/\")\n      } else{\n          setErrorMsg(\"Something went wrong during logout!\");\n        }\n    })\n}"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,eAAe,SAASC,MAAMA,CAAA,EAAE;EAC5BC,KAAK,CAAC,mCAAmC,EAAC;IACtCC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE,IAAIC,OAAO,CAAC;MACjB,eAAe,EAAE,cAAc;MAC/B,OAAO,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;IACzC,CAAC;EACL,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;IAClB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAC;MAC1BD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CACfI,MAAM,IAAK;QACRN,YAAY,CAACO,OAAO,CAAC,OAAO,EAACD,MAAM,CAACE,KAAK,CAAC;QAC1CR,YAAY,CAACO,OAAO,CAAC,cAAc,EAACD,MAAM,CAACG,YAAY,CAAC;MAC5D,CAAC,CAAC;MACNC,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,MAAK;MACFC,WAAW,CAAC,qCAAqC,CAAC;IACpD;EACJ,CAAC,CAAC;AACN;AAACC,EAAA,GAnBuBjB,MAAM;AAAA,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}