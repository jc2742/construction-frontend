{"ast":null,"code":"var _jsxFileName = \"/Users/jackchen/Downloads/GitHub/construction-frontend/construction/src/views/LogoutView.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Logout() {\n  _s();\n  const navigate = useNavigate();\n  const [errorMsg, setErrorMsg] = useState(null);\n  const bearer = 'Bearer ' + localStorage.getItem('token');\n  fetch(\"http://127.0.0.1:8000/api/logout/\", {\n    method: 'post',\n    headers: new Headers({\n      'Authorization': bearer\n    })\n  }).then(response => {\n    if (response.status === 200) {\n      response.json().then(result => {\n        localStorage.setItem(\"token\", result.token);\n        localStorage.setItem(\"update_token\", result.update_token);\n      });\n      navigate(\"/\");\n    } else {\n      setErrorMsg(\"Something went wrong during logout!\");\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    style: {\n      color: \"red\",\n      fontWeight: \"bold\"\n    },\n    children: errorMsg\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n_s(Logout, \"3GiL2HmPLZ2XyPyJCGYseEC6MaM=\", false, function () {\n  return [useNavigate];\n});\n_c = Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","Logout","_s","navigate","errorMsg","setErrorMsg","bearer","localStorage","getItem","fetch","method","headers","Headers","then","response","status","json","result","setItem","token","update_token","className","style","color","fontWeight","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jackchen/Downloads/GitHub/construction-frontend/construction/src/views/LogoutView.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Logout(){\n    const navigate = useNavigate();\n    const [errorMsg, setErrorMsg] = useState(null);\n    const bearer = 'Bearer ' + localStorage.getItem('token')\n\n    fetch(\"http://127.0.0.1:8000/api/logout/\",{ \n        method: 'post', \n        headers: new Headers({\n            'Authorization': bearer, \n        })\n    }).then((response) => {\n        if (response.status === 200){\n          response.json().then(\n              (result) => {\n                  localStorage.setItem(\"token\",result.token)\n                  localStorage.setItem(\"update_token\",result.update_token)\n              });\n          navigate(\"/\")\n      } else{\n          setErrorMsg(\"Something went wrong during logout!\");\n        }\n    })\n\n    return(\n        <div className=\"\" style={{ color: \"red\", fontWeight: \"bold\" }}>\n                  {errorMsg}\n                </div>\n    )\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,eAAe,SAASC,MAAMA,CAAA,EAAE;EAAAC,EAAA;EAC5B,MAAMC,QAAQ,GAAGL,WAAW,EAAE;EAC9B,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAMS,MAAM,GAAG,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAExDC,KAAK,CAAC,mCAAmC,EAAC;IACtCC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE,IAAIC,OAAO,CAAC;MACjB,eAAe,EAAEN;IACrB,CAAC;EACL,CAAC,CAAC,CAACO,IAAI,CAAEC,QAAQ,IAAK;IAClB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAC;MAC1BD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CACfI,MAAM,IAAK;QACRV,YAAY,CAACW,OAAO,CAAC,OAAO,EAACD,MAAM,CAACE,KAAK,CAAC;QAC1CZ,YAAY,CAACW,OAAO,CAAC,cAAc,EAACD,MAAM,CAACG,YAAY,CAAC;MAC5D,CAAC,CAAC;MACNjB,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,MAAK;MACFE,WAAW,CAAC,qCAAqC,CAAC;IACpD;EACJ,CAAC,CAAC;EAEF,oBACIL,OAAA;IAAKqB,SAAS,EAAC,EAAE;IAACC,KAAK,EAAE;MAAEC,KAAK,EAAE,KAAK;MAAEC,UAAU,EAAE;IAAO,CAAE;IAAAC,QAAA,EACnDrB;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACL;AAEtB;AAAC3B,EAAA,CA5BuBD,MAAM;EAAA,QACTH,WAAW;AAAA;AAAAgC,EAAA,GADR7B,MAAM;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}